<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                template="/WEB-INF/template.xhtml">

	<ui:define name="header">
		<h1>#{i18n['title.registration']}</h1>
	</ui:define>
    <ui:define name="content">
		<h:form>
			<h:panelGrid columns="3">
				<h:outputText value="#{i18n['user.login']}"></h:outputText>
				<h:inputText id="userLogin"
					value="#{userBean.user.login}"
					required="true"
					requiredMessage="#{i18n['user.login.validation']}">
				</h:inputText>
				<h:message for="userLogin" styleClass="errorMessage"/>
				
				<h:outputText value="#{i18n['user.password']}"></h:outputText>
				<h:inputSecret id="password"
					value="#{userBean.user.password}"
					required="true"
					requiredMessage="#{i18n['user.password.validation']}">
				</h:inputSecret>
				<h:message for="password" styleClass="errorMessage"/>
				
				<h:outputText value="#{i18n['user.mail']}"></h:outputText>
				<h:inputText id="userMail"
					value="#{userBean.user.e_mail}"
					required="true"
					requiredMessage="#{i18n['user.mail.validation']}">
				</h:inputText>
				<h:message for="userMail" styleClass="errorMessage"/>
				
				<h:outputText value="#{i18n['user.secretQ']}"></h:outputText>
				
				<!-- <h:commandLink value="#{secretQuestionBean.loadSecretQuestion()}" /> -->
				<h:selectOneMenu id="secretquestion"
				value = "#{userBean.user.secretquestion}" 	
				required="true"
				requiredMessage="#{i18n['user.question.validation']}"
				converterId="#{SecretQuestionConverter}">
				
					<f:selectItem itemLabel="Selectionner la question secrete" itemValue="" />
   					<f:selectItems 	value = "#{secretQuestionBean.listSecretQuestion}" 
   					var="sq1" 
   					itemValue="#{sq1}" 
   					itemLabel="#{sq1.question}" />   
				</h:selectOneMenu>
				
				
				
				<h:message for="secretquestion" styleClass="errorMessage"/>

				<h:outputText value="#{i18n['user.answer']}"></h:outputText>
				<h:inputText id="userAnswer"
					value="#{userBean.user.answer}"
					required="true"
					requiredMessage="#{i18n['user.answer.validation']}">
				</h:inputText>
				<h:message for="userAnswer" styleClass="errorMessage"/>
				
			</h:panelGrid>
			<h:commandButton value="#{i18n['user.registration']}" action="#{userBean.submitNewUser}">
			</h:commandButton>
		</h:form>
		
    </ui:define>

</ui:composition>